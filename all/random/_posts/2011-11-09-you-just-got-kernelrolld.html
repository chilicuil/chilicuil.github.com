---
layout: post
title: "instalar ubuntu desde windows sin wubi + netinstaller"
---

<h2>{{ page.title }}</h2>

<p class="publish_date">{{ page.date | date_to_string }}</p>

<p align="center"><img src="/img/56.png" style="width: 320px; height: 240px;">

<p class="justify">Esto ha sido demasiado bueno para dejarlo olvidado en las quicknews, rickrolling en el espacio del kernel, intercepta cualquier llamada para abrir archivos multimedia y los reemplaza por rickrolling.mp3 ;)
</p>

<p align="justify">Para Ubuntu 10.04:
</p>

<pre class="sh_sh">
    $ sudo apt-get install systemtap
</pre>

<p align="justify">systemtap requiere de los <a href="http://en.wikipedia.org/wiki/Debug_symbol">simbolos</a> del kernel, <a href="https://bugs.launchpad.net/ubuntu/+source/linux/+bug/289087">no instalables</a> a travÈs de los repositorios para <strong><u>lucid</u></strong>, sin embargo accesibles desde: <a href="http://ddebs.ubuntu.com/pool/main/l/linux/">http://ddebs.ubuntu.com/pool/main/l/linux/</a>
</p>

<p align="justify">Para mi caso particular
</p>

<pre class="sh_sh">
    $  sudo dpkg -l|grep linux-image
    ii  linux-image-2.6.32-34-generic
    $ uname -m
    x86_64
</pre>

<p align="justify">Por lo tanto (~450MB):
</p>

<pre class="sh_sh">
    $ wget <a href="http://ddebs.ubuntu.com/pool/main/l/linux/linux-image-2.6.32-34-generic-dbgsym_2.6.32-34.77_amd64.ddeb" target="_blank">http://ddebs.ubuntu.com/pool/main/l/linux/linux-image-2.6.32-34-generic-dbgsym_2.6.32-34.77_amd64.ddeb</a>
    $ sudo dpkg -i linux-image-2.6.32-34-generic-dbgsym_2.6.32-34.77_amd64.ddeb
</pre>

<p align="justify">Despu√©s de lo cual lo que se escribe en: <a href="http://blog.yjl.im/2011/09/kernelroll.html">http://blog.yjl.im/2011/09/kernelroll.html</a> tendr√° sentido:
</p>

<pre class="sh_sh">
     $ sudo stap -e 'probe kernel.function("do_filp_open")\
      { p = kernel_string($pathname); l=strlen(p); \
      ext = substr(p, l - 4, l); if (ext == ".mp3" || ext == ".ogg" \
      || ext == ".mp4") { system("mplayer /path/to/rirckroll.mp3"); }}'
</pre>

<p align="justify">De paso aprend√≠ que <a href="http://sources.redhat.com/systemtap/">stap</a> sirve para compilar m√≥dulos del kernel al momento y cargarlos.
</p>
